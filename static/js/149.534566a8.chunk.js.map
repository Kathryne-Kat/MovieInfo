{"version":3,"file":"static/js/149.534566a8.chunk.js","mappings":"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","sources":["api/movies-service.js","webpack://react-homework-template/./src/components/MoviesList/moviesList.module.css?9068","components/MoviesList/MovieCard.jsx","components/MoviesList/MoviesList.jsx","components/SearchForm/SearchForm.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '25e4eeadea4cf520d825a9bf9fd0e85d';\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get(`${BASE_URL}trending/movie/day`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data.results;\n};\n\nexport const getMovieByQuery = async query => {\n  const { data } = await axios.get(`${BASE_URL}search/movie`, {\n    params: {\n      api_key: API_KEY,\n      query,\n    },\n  });\n\n  return data.results;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await axios.get(`${BASE_URL}movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieCredits = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}movie/${movieId}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data.cast;\n};\n\nexport const getMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}movie/${movieId}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data.results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"poster\":\"moviesList_poster__hGfPY\",\"moviesList\":\"moviesList_moviesList__A7Eqi\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport css from './moviesList.module.css';\n\nexport const MovieCard = ({ id, title, poster_path }) => {\n  const location = useLocation();\n\n  if (!poster_path) return;\n  const poster = `https://image.tmdb.org/t/p/w200${poster_path}`;\n  return (\n    <li className={css.poster}>\n      <Link to={'/movies/' + id} state={{ from: location }}>\n        <img src={poster} alt=\"title\" />\n        <h2>{title}</h2>\n      </Link>\n    </li>\n  );\n};\n\nMovieCard.propTypes = {\n  //id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  poster_path: PropTypes.string.isRequired,\n  vote_average: PropTypes.number.isRequired,\n};\n\n// let poster = '';\n// if (poster_path === null) {\n//   poster =\n//     './img/http-404-not-found-error-message-hypertext-vector-20025007.jpg';\n// } else {\n//   poster = `https://image.tmdb.org/t/p/w200${poster_path}`;\n// }\n","import PropTypes from 'prop-types';\nimport { MovieCard } from './MovieCard';\nimport css from './moviesList.module.css';\n\nexport const MoviesList = ({ movies }) => {\n  //console.log(movies);\n  return (\n    <ul className={css.moviesList}>\n      {movies && movies.map(movie => <MovieCard key={movie.id} {...movie} />)}\n    </ul>\n  );\n};\n\nMoviesList.propType = {\n  movie: PropTypes.object,\n};\n","import { useSearchParams } from 'react-router-dom';\n\nexport const SearchForm = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  console.log(searchParams);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const query = e.target.query.value.toLowerCase().trim();\n    console.log(query);\n    if (!query) return;\n    setSearchParams({ search: query });\n  };\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input type=\"text\" placeholder=\"Enter name of movie\" name=\"query\" />\n        <button type=\"submit\">Search</button>\n      </form>\n    </div>\n  );\n};\n","import { getMovieByQuery } from 'api/movies-service';\nimport { Loader } from 'components/Loader';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('search');\n\n  console.log(setSearchParams);\n\n  useEffect(() => {\n    if (!query) return;\n\n    const getMovies = async () => {\n      try {\n        setLoading(true);\n        const data = await getMovieByQuery(query);\n        setMovies(data);\n        //console.log(data);\n\n        setError(null);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    getMovies();\n  }, [query]);\n\n  useEffect(() => {\n    if (!error) return;\n    alert(error);\n  }, [error]);\n\n  return (\n    <>\n      <section>\n        <h1>Search Movies </h1>\n        <SearchForm />\n        {!!movies?.length && <MoviesList movies={movies} />}\n      </section>\n      {loading && <Loader />}\n    </>\n  );\n};\nexport default Movies;\n"],"names":["BASE_URL","API_KEY","getTrendingMovies","axios","params","api_key","data","results","getMovieByQuery","query","getMovieDetails","id","getMovieCredits","movieId","cast","getMovieReviews","MovieCard","title","poster_path","location","useLocation","poster","className","css","to","state","from","src","alt","MoviesList","movies","map","movie","propType","PropTypes","SearchForm","useSearchParams","searchParams","setSearchParams","console","log","onSubmit","e","preventDefault","target","value","toLowerCase","trim","search","type","placeholder","name","useState","setMovies","loading","setLoading","error","setError","get","useEffect","getMovies","message","alert","length","Loader"],"sourceRoot":""}