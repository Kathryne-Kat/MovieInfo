{"version":3,"file":"static/js/318.c57e91a6.chunk.js","mappings":"mTAEMA,EAAW,gCACXC,EAAU,mCAEHC,EAAiB,mCAAG,sGACRC,EAAAA,EAAAA,IAAA,UAAaH,EAAb,sBAA2C,CAChEI,OAAQ,CACNC,QAASJ,KAHkB,uBACvBK,EADuB,EACvBA,KADuB,kBAOxBA,EAAKC,SAPmB,2CAAH,qDAUjBC,EAAe,mCAAG,WAAMC,GAAN,yFACNN,EAAAA,EAAAA,IAAA,UAAaH,EAAb,gBAAqC,CAC1DI,OAAQ,CACNC,QAASJ,EACTQ,MAAAA,KAJyB,uBACrBH,EADqB,EACrBA,KADqB,kBAQtBA,EAAKC,SARiB,2CAAH,sDAWfG,EAAe,mCAAG,WAAMC,GAAN,yFACNR,EAAAA,EAAAA,IAAA,UAAaH,EAAb,iBAA8BW,GAAM,CACzDP,OAAQ,CACNC,QAASJ,KAHgB,uBACrBK,EADqB,EACrBA,KADqB,kBAOtBA,GAPsB,2CAAH,sDAUfM,EAAe,mCAAG,WAAMC,GAAN,yFACNV,EAAAA,EAAAA,IAAA,UAAaH,EAAb,iBAA8Ba,EAA9B,YAAiD,CACtET,OAAQ,CACNC,QAASJ,KAHgB,uBACrBK,EADqB,EACrBA,KADqB,kBAOtBA,EAAKQ,MAPiB,2CAAH,sDAUfC,EAAe,mCAAG,WAAMF,GAAN,yFACNV,EAAAA,EAAAA,IAAA,UAAaH,EAAb,iBAA8Ba,EAA9B,YAAiD,CACtET,OAAQ,CACNC,QAASJ,KAHgB,uBACrBK,EADqB,EACrBA,KADqB,kBAOtBA,EAAKC,SAPiB,2CAAH,qD,+HCzCfS,EAAY,SAAC,GAAgC,IAA9BL,EAA6B,EAA7BA,GAAIM,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAC/BC,GAAWC,EAAAA,EAAAA,MAIXC,EAAM,yCAAqCH,GACjD,OACE,eAAII,UAAWC,EAAAA,EAAAA,OAAf,UACE,UAAC,KAAD,CAAMC,GAAI,WAAab,EAAIc,MAAO,CAAEC,KAAMP,GAA1C,UACID,GAGA,gBAAKS,IAAKN,EAAQO,IAAI,WAFtB,gBAAKD,IAAK,wCAAyCC,IAAKX,KAI1D,eAAIK,UAAWC,EAAAA,EAAAA,MAAf,SAA2BN,QAIlC,ECnBYY,EAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAE3B,OACE,gBAAKR,UAAWC,EAAAA,EAAAA,UAAhB,UAEE,eAAID,UAAWC,EAAAA,EAAAA,WAAf,SACGO,GAAUA,EAAOC,KAAI,SAAAC,GAAK,OAAI,SAAChB,GAAD,UAA8BgB,GAAdA,EAAMrB,GAA1B,OAIlC,EAEDkB,EAAWI,SAAW,CACpBD,MAAOE,IAAAA,O,uJChBT,EAA4B,6BAA5B,EAAyG,wBAAzG,EAA+I,+BAA/I,EAA0L,6B,SCE7KC,EAAa,WACxB,OAA4BC,EAAAA,EAAAA,MAAnBC,GAAT,eAWA,OACE,gBAAKf,UAAWC,EAAhB,UAEE,kBAAMD,UAAWC,EAAUe,SAXd,SAAAC,GACfA,EAAEC,iBACF,IAAM/B,EAAQ8B,EAAEE,OAAOhC,MAAMiC,MAAMC,cAAcC,OACjDC,QAAQC,IAAIrC,GACPA,GACL4B,EAAgB,CAAEU,OAAQtC,GAC3B,EAKG,WACE,kBACEa,UAAWC,EACXyB,KAAK,OACLC,YAAY,sBACZC,KAAK,WAEP,mBAAQ5B,UAAWC,EAAeyB,KAAK,SAAvC,wBAMP,E,UCoBD,EA5Ce,WACb,OAA4BG,EAAAA,EAAAA,UAAS,MAArC,eAAOrB,EAAP,KAAesB,EAAf,KACA,GAA8BD,EAAAA,EAAAA,WAAS,GAAvC,eAAOE,EAAP,KAAgBC,EAAhB,KACA,GAA0BH,EAAAA,EAAAA,UAAS,MAAnC,eAAOI,EAAP,KAAcC,EAAd,KACA,GAAuBpB,EAAAA,EAAAA,MACjB3B,GADN,eAC2BgD,IAAI,UA6B/B,OAzBAC,EAAAA,EAAAA,YAAU,WACR,GAAKjD,EAAL,CAEA,IAAMkD,EAAS,mCAAG,oGAEdL,GAAW,GAFG,UAGK9C,EAAAA,EAAAA,IAAgBC,GAHrB,OAGRH,EAHQ,OAId8C,EAAU9C,GAGVkD,EAAS,MAPK,gDASdA,EAAS,KAAMI,SATD,yBAWdN,GAAW,GAXG,4EAAH,qDAcfK,GAhBkB,CAiBnB,GAAE,CAAClD,KAEJiD,EAAAA,EAAAA,YAAU,WACHH,GACLM,MAAMN,EACP,GAAE,CAACA,KAGF,iCACE,gCACE,SAACpB,EAAD,MACE,OAACL,QAAD,IAACA,IAAAA,EAAQgC,UAAU,SAACjC,EAAA,EAAD,CAAYC,OAAQA,OAE1CuB,IAAW,SAACU,EAAA,EAAD,MAGjB,C,qBCjDD,KAAgB,UAAY,8BAA8B,OAAS,2BAA2B,WAAa,+BAA+B,MAAQ,0BAA0B,UAAY,8B","sources":["api/movies-service.js","components/MoviesList/MovieCard.jsx","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/serchForm.module.css?f0d7","components/SearchForm/SearchForm.jsx","pages/Movies.jsx","webpack://react-homework-template/./src/components/MoviesList/moviesList.module.css?9068"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '25e4eeadea4cf520d825a9bf9fd0e85d';\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get(`${BASE_URL}trending/movie/day`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data.results;\n};\n\nexport const getMovieByQuery = async query => {\n  const { data } = await axios.get(`${BASE_URL}search/movie`, {\n    params: {\n      api_key: API_KEY,\n      query,\n    },\n  });\n\n  return data.results;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await axios.get(`${BASE_URL}movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieCredits = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}movie/${movieId}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data.cast;\n};\n\nexport const getMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}movie/${movieId}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return data.results;\n};\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport css from './moviesList.module.css';\n\nexport const MovieCard = ({ id, title, poster_path }) => {\n  const location = useLocation();\n  //console.log(location);\n\n  // if (!poster_path) return;\n  const poster = `https://image.tmdb.org/t/p/w200${poster_path}`;\n  return (\n    <li className={css.poster}>\n      <Link to={'/movies/' + id} state={{ from: location }}>\n        {!poster_path ? (\n          <img src={'/src/img/http-404-not-found-error.jpg'} alt={title} />\n        ) : (\n          <img src={poster} alt=\"title\" />\n        )}\n        <h2 className={css.title}>{title}</h2>\n      </Link>\n    </li>\n  );\n};\n\nMovieCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  poster_path: PropTypes.string.isRequired,\n  vote_average: PropTypes.number.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { MovieCard } from './MovieCard';\nimport css from './moviesList.module.css';\n\nexport const MoviesList = ({ movies }) => {\n  //console.log(movies);\n  return (\n    <div className={css.container}>\n   \n      <ul className={css.moviesList}>\n        {movies && movies.map(movie => <MovieCard key={movie.id} {...movie} />)}\n      </ul>\n    </div>\n  );\n};\n\nMoviesList.propType = {\n  movie: PropTypes.object,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"serchForm_container__8-goi\",\"titleList\":\"serchForm_titleList__dbKET\",\"form\":\"serchForm_form__hvseB\",\"inputSearch\":\"serchForm_inputSearch__pxLEH\",\"btnSearch\":\"serchForm_btnSearch__JyfRa\"};","import { useSearchParams } from 'react-router-dom';\nimport css from './serchForm.module.css';\n\nexport const SearchForm = () => {\n  const [, setSearchParams] = useSearchParams();\n  //console.log(searchParams);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const query = e.target.query.value.toLowerCase().trim();\n    console.log(query);\n    if (!query) return;\n    setSearchParams({ search: query });\n  };\n\n  return (\n    <div className={css.container}>\n      {/* <h1 className={css.titleList}>Search Movies </h1> */}\n      <form className={css.form} onSubmit={onSubmit}>\n        <input\n          className={css.inputSearch}\n          type=\"text\"\n          placeholder=\"Enter name of movie\"\n          name=\"query\"\n        />\n        <button className={css.btnSearch} type=\"submit\">\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n","import { getMovieByQuery } from 'api/movies-service';\nimport { Loader } from 'components/Loader';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('search');\n\n  //console.log(setSearchParams);\n\n  useEffect(() => {\n    if (!query) return;\n\n    const getMovies = async () => {\n      try {\n        setLoading(true);\n        const data = await getMovieByQuery(query);\n        setMovies(data);\n        //console.log(data);\n\n        setError(null);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    getMovies();\n  }, [query]);\n\n  useEffect(() => {\n    if (!error) return;\n    alert(error);\n  }, [error]);\n\n  return (\n    <>\n      <section>\n        <SearchForm />\n        {!!movies?.length && <MoviesList movies={movies} />}\n      </section>\n      {loading && <Loader />}\n    </>\n  );\n};\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"moviesList_container__kqJys\",\"poster\":\"moviesList_poster__hGfPY\",\"moviesList\":\"moviesList_moviesList__A7Eqi\",\"title\":\"moviesList_title__UDpFK\",\"titleList\":\"moviesList_titleList__mihWC\"};"],"names":["BASE_URL","API_KEY","getTrendingMovies","axios","params","api_key","data","results","getMovieByQuery","query","getMovieDetails","id","getMovieCredits","movieId","cast","getMovieReviews","MovieCard","title","poster_path","location","useLocation","poster","className","css","to","state","from","src","alt","MoviesList","movies","map","movie","propType","PropTypes","SearchForm","useSearchParams","setSearchParams","onSubmit","e","preventDefault","target","value","toLowerCase","trim","console","log","search","type","placeholder","name","useState","setMovies","loading","setLoading","error","setError","get","useEffect","getMovies","message","alert","length","Loader"],"sourceRoot":""}